include "auth/authentication.conf"
include "auth/authorization.conf"


play.application.loader = biz.lobachev.annette.gateway.api.AnnetteApiLoader

# TODO: play.filters.headers.contentSecurityPolicy is deprecated in 2.7.0.  Please use play.filters.csp.CSPFilter instead.
play.filters.headers.contentSecurityPolicy = "default-src * 'unsafe-inline' 'unsafe-eval' data:; script-src * 'unsafe-inline' 'unsafe-eval'; connect-src * 'unsafe-inline'; img-src * data: blob: 'unsafe-inline'; frame-src *; style-src * 'unsafe-inline';"

play.filters.disabled += play.filters.csrf.CSRFFilter
play.filters.disabled += play.filters.headers.SecurityHeadersFilter
play.filters.disabled += play.filters.hosts.AllowedHostsFilter

play.filters.cors {
  pathPrefixes = ["/"]
  allowedOrigins = null // ["*"]
  allowedHttpMethods = null // ["GET", "POST", "OPTIONS", "PUT", "DELETE"]
  allowedHttpHeaders = null // ["Accept", "Authorization"]
  #  preflightMaxAge = 3 days
}

play.server.pidfile.path = "/dev/null"
play.http.secret.key = "ad31779d4ee49d5ad5162bf1429c32e2e9933f3b"
play.http.secret.key = ${?SECRET_KEY}


lagom.circuit-breaker.default{
  enabled = on
  exception-whitelist = ["biz.lobachev.annette.core.exception.AnnetteTransportException"]
}
